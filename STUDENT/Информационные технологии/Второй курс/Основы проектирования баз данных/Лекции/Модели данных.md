#МоиЛекции #БД  

**Модель данных (Data Model)** — это абстрактное, самодостаточное, логическое определение объектов, операторов и прочих элементов, в совокупности составляющих абстрактную машину доступа к данным, с которой взаимодействует пользователь.

Каждая *БД* и *СУБД* строится на основе некоторой явной или неявной модели данных. Все *СУБД*, построенные на одной и той же модели данных, относят к одному типу. 

> Например, основой реляционных СУБД является реляционная модель данных, сетевых *СУБД* — сетевая модель данных, иерархических СУБД — иерархическая модель данных и т. д.

---
## Проектирование базы данных

Представление о базе данных как об информационной модели предметной области позволяет рассматривать процесс ее создания как процедуру последовательной детализации этой модели — от общего (пользовательского) представления об информационных сервисах, представляемых информационной системой, до схемы размещения соответствующих структур данных на внешних запоминающих устройствах.

С другой стороны, представление о базе данных как о сложном программно-техническом объекте позволяет применять к процессу ее проектирования весь комплекс методов, инструментов и технологических приемов программной инженерии, основанных на базовых принципах, обеспечивающих эффективное решение проблемы «борьбы со сложностью» проектируемых объектов и повышение производительности процесса разработки.

Принцип *декомпозиции* предписывает рассматривать сложную систему как множество взаимосвязанных компонентов, проектирование которых может выполнятся параллельно разными командами разработчиков с последующим объединением полученных ими результатов в единый проект. Примером применения этого принципа может служить декомпозиция информационной системы (ИС) на две относительно автономные подсистемы — базу данных и подсистему обработки информации, технологии создания которых существенно отличаются и требуют привлечения разработчиков различных специальностей.

В соответствии с принципами *иерархичности* и *многоэтапности* процесс проектирования базы данных включает ряд последовательных стадий, на каждой из которых разрабатываются соответствующие представления (модели) проектируемого объекта, описывающие его с разной степенью детализации.

*Проектирование базы данных* — это процесс последовательной детализации пользовательского представления о предметной области ИС и его преобразования сначала в *концептуальную модель*, затем в *логическую модель*, и, наконец, в *физическую модель данных*, детально определённую.

- *Концептуальная модель* — описывает объектную среду моделируемой предметной области.
- *Логическая модель* — определяет представление прикладных программ о структуре базы данных.
- *Физическая модель* — определяет структуры данных и схему их размещения на устройствах внешней памяти.

Основным содержанием начальной стадии проекта ИС является проведение детального анализа бизнес-процессов предметной области с целью выявления и согласования с заказчиком требований к проектируемому объекту и оценки их реализуемости. На этой стадии для описания проектируемой базы данных используется так называемые *внешние модели* —представления об основных функциях и информационных сервисах, предоставляемых ИС по запросам пользователей.

---
## Важность моделей данных в СУБД

Модели данных играют решающую роль в системах управления базами данных, поскольку они:

1. **Руководство по проектированию базы данных**. Модели данных помогают разрабатывать логические и физические конструкции баз данных, описывая, как данные будут организованы, тем самым устанавливая сущности, атрибуты и отношения.
2. **Обеспечьте согласованность данных**: определяя структуры и соглашения данных, модели данных обеспечивают единообразие во всех системах баз данных, тем самым поддерживая согласованность данных.
3. **Обеспечьте эффективное хранение и поиск данных**. Хорошо разработанная модель данных обеспечивает оптимальное хранение данных, более быстрые запросы и эффективный доступ к необходимой информации.
4. **Улучшение коммуникации**: модели данных служат визуальным и концептуальным справочником, который помогает устранить разрывы в общении между разработчиками, администраторами баз данных, участниками проекта и конечными пользователями. Они обеспечивают полное понимание предполагаемой структуры и использования базы данных.
5. **Упрощение управления данными**. Модели данных необходимы для управления данными, поскольку они помогают определить правила, ограничения и отношения, которые управляют данными, и помогают поддерживать качество и целостность данных.

---
## Принципы моделирования данных

При работе с любой моделью данных крайне важно следовать определенным принципам для создания эффективной, значимой и удобной в обслуживании модели. Вот некоторые важные принципы моделирования данных:

1. **Ясность:** модель данных должна быть ясной и простой для понимания. Он должен эффективно доводить структуру и взаимоотношения между элементами данных как до технической, так и до нетехнической аудитории.
2. **Простота.** Хорошая модель данных должна избегать ненужной сложности, что упрощает ее обслуживание и обновление. Сохраняйте модель как можно более простой, но при этом адекватно представляйте все необходимые элементы данных и взаимосвязи.
3. **Масштабируемость.** Модели данных следует разрабатывать с учетом масштабируемости, поскольку требования могут меняться со временем. Модель данных должна быть достаточно гибкой, чтобы приспособиться к будущим изменениям и росту без существенной доработки.
4. **Согласованность.** Согласованность имеет решающее значение для поддержания целостности данных и обеспечения надежности модели данных. Используйте согласованные соглашения об именах, типы данных и определения отношений, чтобы улучшить удобство обслуживания и ясность модели данных.
5. **Гибкость.** Гибкая модель данных может легко адаптироваться к меняющимся бизнес-требованиям и технологиям. Рассмотрите возможность использования шаблонов проектирования и модульных структур, позволяющих легко модифицировать и расширять модели данных.

Соблюдение этих принципов в процессе моделирования данных может значительно улучшить качество конечной модели, сделав ее более эффективной, управляемой и поддерживаемой.

---
## Концептуальная модель

В основе концептуальной модели лежат понятия *сущности (entyty)* и *связи (realationship)*, рассматриваемых как абстракции реальных моделируемых объектов и сематических отношений между ними.

Такая модель получила название ER-модели, или модели *"сущность - связь"*. Каждая сущность в это модели представляет множество однотипных экземпляров некоторого объекта предметной области и наделяется "атрибутами", описывающими свойства объектов, существенные в рамках решаемой задачи. Множество значений описательных атрибутов экземпляров сущностей является основным результатом выполнения пользовательских запросов к базе данных, при этом некоторые атрибуты могут выступать в роли идентификаторов, с помощью которых производится выборка соответствующих экземпляров.

Связи между сущностями представляют отношения между реальными объектами и обеспечивают возможность навигационного поиска экземпляров одних сущностей по их связи с другими экземплярами.

Для визуального представления ER-модели было разработано несколько систем графической нотации, на их основе созданы CASE-средства, многие из которых и сегодня эффективно используются на начальных стадиях проектов баз данных. Считается, что *ER-диаграмма* положила начало разработке средств графического моделирования, используемых при проектировании программных систем. Среди множества диаграмм современного языка графического моделирования UML одно из центральных мест занимает диаграмма классов, унаследовавшая основные свойства ER-диаграммы.

![[Pasted image 20240114211338.png]]

---
## Нереляционные логические модели данных

Логическая модель данных формируется на базе концептуальной модели и представляет собой ее детализацию и последующее описание на некотором высокоуровневом языке, поддерживаемом СУБД. Качество логической модели во многом определяет эффективность алгоритмов поиска данных, реализуемых СУБД. До появления реляционной модели данных существовали так называемые *нереляционные* (или *дореляционные*) логические модели данных.

### Иерархическая модель

Разработчики первых СУБД использовали иерархические модели, которые базировались на древовидных структурах данных, хорошо известных в программировании. Иерархическая база данных представляется множеством деревьев: в вершинах дерева помещаются записи, состоящие из поименованных полей и представляющие экземпляры некоторого объекта предметной области. Записи связаны строго иерархическими отношениями — у записи-«потомка» не должно быть более одной записи-«предка».

Одной из первых СУБД, использующих иерархическую модель данных, была разработка компании IBM 1968 г. Information Management System (IMS), первоначально предназначавшаяся для управления спецификацией изделий аэрокосмической отрасли США. Следует отметить, что такая модель идеально подходила для моделируемой предметной области, по своей природе имеющей иерархическую структуру: спецификация технического объекта описывается в терминах «изделие» —  «агрегат» — «узел» — «деталь», связанных иерархическим отношением композиции.

Основным структурным элементом иерархической модели, поддерживаемой IMS, является так называемый сегмент, представляющий множество однотипных объектов предметной области. Каждый сегмент может включать атомарные информационные блоки, называемые «областями» и представляющие атрибуты экземпляров этого объекта. Сегменты модели могут быть иерархически связаны друг с другом, что отображает определённые сематические отношения между объектами предметной области.

Главным преимуществом иерархической модели является высокая эффективность алгоритмов поиска (стоимость процедуры «спуска по дереву» пропорционально глубине дерева), а основными её недостатками является высокая стоимость операции модификации (алгоритм расщепления и слияния вершин дерева при вставке и удалении записей) и необходимость дублирования данных при их хранении в БД.

Причиной дублирования данных является требование строгой иерархичности модели в ситуациях, когда в предметной области это требование объективно не соблюдается. Более радикальное решение в такой ситуации — отказ от иерархической модели данных в пользу сетевой модели, позволяющей связывать дочерние сегменты с несколькими родительскими.

![[Pasted image 20240114211824.png]]

### Ключевая особенность

- Древовидная структура;
- Один родительский узел может иметь несколько дочерних узлов, но дочерний узел может иметь только один родительский узел;
- Отношения родитель-потомок представлены через родительские указатели или вложенные наборы;
- Оптимизирован для перехода от родительского узла к дочернему, а не наоборот;
- Лучше всего подходит для отношений «один ко многим».
### Преимущества

- Просто и легко понять;
- Эффективен для поиска и хранения данных;
- Хорошо подходит для иерархических данных, таких как организационные диаграммы, файловые системы и таксономии;
- Целостность данных поддерживается посредством принудительных отношений родитель-потомок.

### Недостатки

- Ограниченная гибкость для обработки сложных отношений, таких как отношения «многие-ко-многим» (M:N);
- Потенциальная избыточность данных, поскольку дочерним узлам может потребоваться хранить повторяющуюся информацию о своем родительском узле;
- Не оптимизирован для доступа к данным посредством навигации между детьми и родителями или поиска неиерархических данных;
- Обновление или удаление данных может быть затруднено из-за жесткой иерархической структуры.

---
## Сетевая модель

В 1969 году *Конференцией по языкам систем данных* (Conference on Data Systems Languages) была разработана сетевая модель данных, получившая название «модель CODASYL», или «сетевая модель».

Спецификация CODASYL объединяет в себе элементы концептуальной, логической и физической модели данных: она включает языки определения логической схемы БД, язык манипулирования данными и язык управления внешними носителями данных; для связывания логической схемы БД с файловой структурой данных используется понятие «области базы данных», а для определения пользовательских представлений БД — понятие «подсхемы». В этой спецификации также были определены функции администрирования, включающие операции резервного копирования и восстановления БД, управления производительностью, сбора статистики, аудита, авторизации пользователей и др.

Преимуществами сетевой модели CODASYL является способность представлять сложно структурированные свойства информационных объектов и сложные отношения между ними, что позволяет адекватно моделировать свойства практически любой предметной области, а также высокая производительность за счет гибкого управления физической моделью данных.

Недостатки спецификации CODASYL — это обратная сторона её преимуществ, их обычно связывают с двумя основными факторами. Во-первых, это сложность самой сетевой модели данных и, как следствие, высокая трудоемкость освоения технологии её разработки. Разработка, анализ и модификация структуры сетевой базы данных (даже при использовании визуальных средств моделирования и наличии специально подготовленных специалистов) могли занимать весьма длительный период. 

Во-вторых, достижение высокой производительности выполнения операций извлечения данных потребовало детального описания физической модели данных, что сделало операции загрузки БД и изменения её структуры крайне дорогостоящими. В условиях, когда ключ записи напрямую связан с её физическим адресом и одновременно используется в качестве указателя для реализации наборов данных в виде связанных списков и деревьев, для создания новых связей требуется перестройка БД на физическом уровне.

![[Pasted image 20240114211904.png]]

### Ключевая особенность

- Графоподобная структура;
- Каждый узел может иметь несколько родительских и дочерних узлов;
- Отношения представляются с помощью указателей записей, которые напрямую связывают связанные записи;
- Идеально подходит для отношений «многие ко многим».

### Преимущества

- Гибкость в представлении сложных отношений;
- Устраняет проблемы избыточности данных, обнаруженные в иерархической модели;
- Улучшена целостность данных за счет представления нескольких связей;
- Эффективен для поиска данных при прохождении связей.

### Недостатки

- Повышенная сложность по сравнению с иерархической моделью;
- На производительность может повлиять сложность взаимоотношений;
- Обновление, удаление или вставка данных может оказаться более сложной задачей из-за взаимосвязанной структуры;
- Требует высокого уровня знаний для проектирования и обслуживания.

---
## Ссылки

1. Макаренко И.В., База данных на примерах, ст. 20
2. [Википедия. Модель данных](https://ru.m.wikipedia.org/wiki/Модель_данных)