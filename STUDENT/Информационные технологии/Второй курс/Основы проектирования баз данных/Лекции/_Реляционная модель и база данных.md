#МоиЛекции  #БД  

Реляционные базы данных являются старейшим типом баз данных общего назначения, который все еще широко используется сегодня. Фактически, реляционные базы данных составляют **большинство** баз данных, используемых в настоящее время в производстве.

Реляционные базы данных организуют данные с помощью таблиц. 

> **Таблицы** - это структуры, которые накладывают схему на записи, которые они хранят. 

Каждый столбец в таблице имеет *имя* и *тип данных*. Каждая строка представляет отдельную запись или элемент данных в таблице, который содержит значения для каждого из столбцов. Реляционные базы данных получают свое название от математических связей, которые используют кортежи (например, строки в таблице) для представления упорядоченных наборов данных.

![[Pasted image 20240412091921.png]]

Специальные поля в таблицах, называемые **внешними ключами**, могут содержать ссылки на столбцы в других таблицах. Это позволяет базе данных соединять две таблицы по требованию для объединения различных типов данных.

Высокоорганизованная структура, обеспечиваемая жесткой структурой таблиц, в сочетании с гибкостью, обеспечиваемой отношениями между таблицами, делает реляционные базы данных очень мощными и адаптируемыми ко многим типам данных. Соответствие может быть обеспечено на уровне таблиц, но операции с базами данных могут комбинировать эти данные и манипулировать ими новыми способами.

Хотя реляционные базы данных не являются неотъемлемой частью проектирования, язык запросов, называемый **SQL**, или **язык структурированных запросов**, был создан для доступа к данным, хранящимся в этом формате, и манипулирования ими. Он может запрашивать и объединять данные из нескольких таблиц в рамках одной инструкции. SQL также может фильтровать, агрегировать, обобщать и ограничивать возвращаемые данные. Итак, хотя SQL не является частью реляционной системы, он часто является фундаментальной частью работы с этими базами данных.

> **SQL**, или **язык структурированных запросов**, представляет собой языковое семейство, используемое для запросов и манипулирования данными в реляционных базах данных. Он превосходен в объединении данных из нескольких таблиц и фильтрации на основе ограничений, которые позволяют использовать его для выражения сложных запросов. Варианты языка были приняты почти всеми реляционными базами данных из-за его гибкости, мощности и повсеместного распространения.

В целом, реляционные базы данных часто хорошо подходят для любых данных, которые являются регулярными, предсказуемыми и извлекают выгоду из возможности гибкого составления информации в различных форматах. Поскольку реляционные базы данных работают на основе схемы, изменить структуру данных после их поступления в систему может быть сложнее. Однако схема также помогает обеспечить целостность данных, гарантируя соответствие значений ожидаемым форматам и включение необходимой информации. В целом, реляционные базы данных являются надежным выбором для многих приложений, поскольку приложения часто генерируют хорошо упорядоченные структурированные данные.

Примеры:

- MySQL
- MariaDB
- PostgreSQL
- SQLite

---
## Реляционная база данных

Реляционная база данных - это тип базы данных, который хранит точки данных, связанные друг с другом, и обеспечивает доступ к ним. Реляционные базы данных основаны на реляционной модели, интуитивно понятном и простом способе представления данных в таблицах. В реляционной базе данных каждая строка в таблице представляет собой запись с уникальным идентификатором, называемым ключом. Столбцы таблицы содержат атрибуты данных, и каждая запись обычно имеет значение для каждого атрибута, что упрощает установление взаимосвязей между точками данных.

### Пример реляционной базы данных

Вот простой пример двух таблиц, которые малый бизнес может использовать для обработки заказов на свою продукцию. Первая таблица - это таблица сведений о клиенте, поэтому каждая запись включает имя клиента, адрес, информацию о доставке и выставлении счета, номер телефона и другую контактную информацию. Каждый бит информации (каждый атрибут) находится в отдельном столбце, и база данных присваивает каждой строке уникальный идентификатор (ключ). Во второй таблице - таблице заказов клиентов — каждая запись включает идентификатор клиента, разместившего заказ, заказанный продукт, количество, выбранные размер и цвет и так далее, но не имя клиента или контактную информацию.

У этих двух таблиц есть только одна общая черта: столбец **ID** (ключ). Но из-за этого общего столбца реляционная база данных может создавать связь между двумя таблицами. Затем, когда приложение обработки заказов компании отправляет заказ в базу данных, база данных может перейти к таблице заказов клиентов, извлечь правильную информацию о заказе продукта и использовать идентификатор клиента из этой таблицы для поиска информации о выставлении счетов и доставке клиента в таблице сведений о клиентах. Затем склад может получить нужный продукт, клиент может получить своевременную доставку заказа, а компания может получить оплату.

Как структурированы реляционные базы данных
Реляционная модель означает, что логические структуры данных — таблицы данных, представления и индексы — отделены от физических структур хранения. Такое разделение означает, что администраторы баз данных могут управлять физическим хранилищем данных, не влияя на доступ к этим данным как логической структуре. Например, переименование файла базы данных не приводит к переименованию таблиц, хранящихся в нем.

Различие между логической и физической базой данных также применимо к операциям с базой данных, которые представляют собой четко определенные действия, позволяющие приложениям манипулировать данными и структурами базы данных. Логические операции позволяют приложению указывать необходимый ему контент, а физические операции определяют способ доступа к этим данным и затем выполняют задачу.

Чтобы гарантировать, что данные всегда точны и доступны, реляционные базы данных соблюдают определенные правила целостности. Например, правило целостности может указывать, что в таблице не допускаются повторяющиеся строки, чтобы исключить возможность попадания ошибочной информации в базу данных.

---
## Реляционная модель

На заре развития баз данных каждое приложение хранило данные в своей собственной уникальной структуре. Когда разработчики хотели создавать приложения для использования этих данных, им нужно было много знать о конкретной структуре данных, чтобы найти нужные им данные. Эти структуры данных были неэффективными, сложными в обслуживании и оптимизации для обеспечения хорошей производительности приложения. Модель реляционной базы данных была разработана для решения проблемы множества произвольных структур данных.

Модель реляционных данных предоставляет стандартный способ представления данных и запроса к ним, который может использоваться любым приложением. С самого начала разработчики понимали, что главная сила модели реляционной базы данных заключалась в использовании таблиц, которые были интуитивно понятным, эффективным и гибким способом хранения структурированной информации и доступа к ней.

Со временем проявилась еще одна сильная сторона реляционной модели, поскольку разработчики начали использовать язык структурированных запросов (SQL) для записи и запроса данных в базе данных. В течение многих лет SQL широко использовался в качестве языка запросов к базе данных. Основанный на реляционной алгебре SQL предоставляет внутренне согласованный математический язык, который упрощает повышение производительности всех запросов к базе данных. Для сравнения, другие подходы должны определять отдельные запросы.

Преимущества системы управления реляционными базами данных
Простая, но мощная реляционная модель используется организациями всех типов и размеров для удовлетворения самых разнообразных информационных потребностей. Реляционные базы данных используются для отслеживания запасов, обработки транзакций электронной коммерции, управления огромными объемами критически важной информации о клиентах и многого другого. Реляционная база данных может использоваться для удовлетворения любых информационных потребностей, в которых точки данных связаны друг с другом и которыми необходимо управлять безопасным, основанным на правилах и согласованным образом.

Реляционные базы данных существуют с 1970-х годов. Сегодня преимущества реляционной модели продолжают делать ее наиболее широко принятой моделью для баз данных.

Реляционная модель и согласованность данных
Реляционная модель наилучшим образом обеспечивает согласованность данных между приложениями и копиями базы данных (называемыми экземплярами). Например, когда клиент вносит деньги в банкомат, а затем просматривает баланс счета на мобильном телефоне, клиент ожидает, что этот депозит немедленно отразится в обновленном балансе счета. Реляционные базы данных отличаются такой согласованностью данных, гарантируя, что несколько экземпляров базы данных постоянно имеют одни и те же данные.

Другим типам баз данных сложно поддерживать этот уровень своевременной согласованности при работе с большими объемами данных. Некоторые новейшие базы данных, такие как NoSQL, могут обеспечивать только “конечную согласованность”. Согласно этому принципу, когда база данных масштабируется или когда несколько пользователей одновременно обращаются к одним и тем же данным, данным требуется некоторое время, чтобы “наверстать упущенное”. Конечная согласованность приемлема для некоторых целей, например для ведения списков в каталоге товаров, но для критически важных бизнес-операций, таких как транзакции в корзине покупок, реляционная база данных по-прежнему остается золотым стандартом.

Приверженность и атомарность
Реляционные базы данных обрабатывают бизнес-правила и политики на очень детальном уровне, со строгими политиками в отношении обязательств (то есть внесения изменений в базу данных на постоянной основе). Например, рассмотрим базу данных инвентаризации, которая отслеживает три части, которые всегда используются вместе. Когда одна часть извлекается из инвентаря, две другие также должны быть извлечены. Если одна из трех частей недоступна, ни одну из частей не следует извлекать — все три части должны быть доступны до того, как база данных возьмет на себя какие-либо обязательства. Реляционная база данных не будет выполнять коммит для одной части, пока не будет знать, что может выполнять коммит для всех трех. Эта многогранная возможность коммита называется атомарностью. Атомарность - это ключ к поддержанию точности данных в базе данных и обеспечению их соответствия правилам, регламентам и политикам бизнеса.

Свойства ACID и RDBMS
Транзакции с реляционной базой данных определяются четырьмя важнейшими свойствами: атомарностью, согласованностью, изоляцией и долговечностью, которые обычно называются ACID.

Атомарность определяет все элементы, составляющие полную транзакцию базы данных.
Согласованность определяет правила поддержания точек данных в корректном состоянии после транзакции.
Изоляция позволяет сохранить эффект транзакции невидимым для других пользователей до тех пор, пока она не будет зафиксирована, чтобы избежать путаницы.
Надежность гарантирует, что изменения данных становятся постоянными после фиксации транзакции.
Хранимые процедуры и реляционные базы данных
Доступ к данным требует множества повторяющихся действий. Например, простой запрос для получения информации из таблицы данных может потребоваться повторить сотни или тысячи раз, чтобы получить желаемый результат. Эти функции доступа к данным требуют определенного типа кода для доступа к базе данных. Разработчики приложений не хотят писать новый код для этих функций в каждом новом приложении. К счастью, реляционные базы данных допускают хранимые процедуры, которые представляют собой блоки кода, к которым можно получить доступ с помощью простого вызова приложения. Например, одна хранимая процедура может обеспечить согласованную маркировку записей для пользователей нескольких приложений. Хранимые процедуры также могут помочь разработчикам гарантировать, что определенные функции обработки данных в приложении реализованы определенным образом.

Блокировка базы данных и параллелизм
Конфликты в базе данных могут возникать, когда несколько пользователей или приложений пытаются изменить одни и те же данные одновременно. Методы блокировки и параллелизма снижают вероятность конфликтов, сохраняя целостность данных.

Блокировка не позволяет другим пользователям и приложениям получать доступ к данным во время их обновления. В некоторых базах данных блокировка применяется ко всей таблице, что негативно сказывается на производительности приложения. Другие базы данных, такие как Oracle relational databases, применяют блокировки на уровне записей, оставляя доступными другие записи в таблице, что помогает повысить производительность приложения.

Параллелизм управляет активностью, когда несколько пользователей или приложений одновременно вызывают запросы к одной базе данных. Эта возможность обеспечивает правильный доступ пользователям и приложениям в соответствии с политиками, определенными для управления данными.

На что обратить внимание при выборе реляционной базы данных
Программное обеспечение, используемое для хранения, управления, запросов и извлечения данных, хранящихся в реляционной базе данных, называется системой управления реляционными базами данных (RDBMS). СУБД обеспечивает интерфейс между пользователями, приложениями и базой данных, а также административные функции для управления хранением данных, доступом и производительностью.

Несколько факторов могут повлиять на ваше решение при выборе типов баз данных и продуктов для реляционных баз данных. Выбранная вами СУБД будет зависеть от потребностей вашего бизнеса. Задайте себе следующие вопросы:

Каковы наши требования к точности данных? Будут ли хранение и точность данных зависеть от бизнес-логики? Предъявляются ли к нашим данным строгие требования к точности (например, к финансовым данным и правительственным отчетам)?
Нужна ли нам масштабируемость? Каков масштаб данных, которыми нужно управлять, и каков его ожидаемый рост? Потребуется ли модели базы данных поддерживать зеркальные копии базы данных (в виде отдельных экземпляров) для обеспечения масштабируемости? Если да, то может ли она поддерживать согласованность данных в этих экземплярах?
Насколько важен параллелизм? Потребуется ли одновременный доступ к данным нескольким пользователям и приложениям? Поддерживает ли программное обеспечение базы данных параллелизм при защите данных?
Каковы наши требования к производительности и надежности? Нужен ли нам высокопроизводительный продукт с высокой надежностью? Каковы требования к производительности запросов-ответов? Каковы обязательства поставщика в отношении соглашений об уровне обслуживания (SLA) или незапланированных простоев?
Реляционная база данных будущего: автономная база данных
За прошедшие годы реляционные базы данных стали лучше, быстрее, мощнее и с ними стало проще работать. Но они также усложнились, и администрирование базы данных уже давно стало работой на полный рабочий день. Вместо того, чтобы использовать свой опыт для разработки инновационных приложений, приносящих пользу бизнесу, разработчикам приходится тратить большую часть своего времени на управленческую деятельность, необходимую для оптимизации производительности базы данных.

Сегодня автономные технологии используют сильные стороны реляционной модели, технологии облачных баз данных и машинного обучения для создания реляционных баз данных нового типа. Автономная база данных (также известная как autonomous database) сохраняет мощь и преимущества реляционной модели, но использует искусственный интеллект (ИИ), машинное обучение и автоматизацию для мониторинга и повышения производительности запросов и задач управления. Например, для повышения производительности запросов автономная база данных может выдвигать гипотезы и тестировать индексы, чтобы ускорить запросы, а затем запускать лучшие из них в производство — и все это самостоятельно. Автономная база данных постоянно вносит эти улучшения без участия человека.

Автономная технология освобождает разработчиков от рутинных задач управления базой данных. Например, им больше не нужно заранее определять требования к инфраструктуре. Вместо этого с автономной базой данных они могут добавлять хранилище и вычислительные ресурсы по мере необходимости для поддержки роста базы данных. Всего за несколько шагов разработчики могут легко создать автономную реляционную базу данных, что ускорит время разработки приложения.

---
## Ссылки

1. [The Different Types of Databases - Overview with Examples](https://www.prisma.io/dataguide/intro/comparing-database-types#relational-databases-working-with-tables-as-a-standard-solution-to-organize-well-structured-data)
2. [[_Особенность реляционной модели]]