#РаботаПК #МоиЛекции 

**Процессор** — это программа или устройство, предназначенные для обработки чего-либо. Является центральным вычислительным элементом любого компьютера, который управляет всеми остальными его элементами. 

> Главными характеристиками ЦПУ являются: **тактовая частота, производительность, энергопотребление, нормы литографического процесса**, используемого при производстве (для микропроцессоров), и **архитектура**.

**Современный микропроцессор** — это прямоугольная пластинка из кристаллического кремния. На ее маленькой площади расположены схемы (транзисторы). Пластинка находится в керамическом или пластмассовом корпусе, к которому она подсоединяется посредством золотых проводков. Благодаря такой конструкции процессор легко и надежно подсоединяется к системной плате ПК.

---
## Структура процессора

Центральный процессор это не конечная деталь. Он состоит из трех составных частей:

**Ядро процессора.** Ядро отвечает за большую часть всех функций CPU. Оно выполняет расшифровку, чтение, отправку инструкций другим элементам или принимает инструкции от них. Одномоментно ядро способно выполнять только одну команду, происходит это за сотые доли секунд. Таким образом, наличие одного ядра говорит о том, что ПК или сервер будет выполнять все инструкции поочередно. Современное оборудование редко использует одноядерные процессоры, так как в этом случае оно работает очень медленно.

Ядро в свою очередь состоит еще из двух частей:

- **Арифметико-логическое устройство (АЛУ).** Оно осуществляет выполнение арифметических и логических операций.
- **Устройство управления (УУ).** Оно координирует работу всех частей процессора, его взаимодействие с внешним оборудованием. Происходит это с помощью электрических сигналов.

**Запоминающее устройство.** Это небольшая память процессора, в которой хранится информация о текущих командах и промежуточных результатах. Она состоит из кэша и регистров. Регистры отвечают за “запоминание” информации, а кэш хранит часто выполняемые инструкции. Обращение в кэш происходит быстрее, чем к оперативной памяти, поэтому объем кэш-память процессора влияет на скорость работы ЦПУ.

**Шины.** Это каналы для передачи команд внутри процессора.

---
## Характеристики процессора

### Тактовая частота процессора

Тактовая частота указывает скорость работы процессора в герцах – *количество рабочих операций в секунду*. Тактовая частота процессора подразделяется на внутреннюю и внешнюю. Эта характеристика процессора значительно влияет на скорость работы ПК, но производительность зависит далеко не только от неё. 

Внутренняя тактовая частота обозначает темп, с которым процессор обрабатывает внутренние команды. Чем выше показатель – тем быстрее внешняя тактовая частота. Внешняя тактовая частота определяет, с какой скоростью процессор обращается к оперативной памяти.

![[Pasted image 20231029211216.png]]

### Разрядность процессора

Разрядность представляет собой предельное количество разрядов двоичного числа, над которым может производиться машинная операция передачи информации. Другими словами, это количество бит информации, которые процессор может обрабатывать за один такт (операцию). Например, размер данных за такт равен 1 байту, процессор считает восьмиразрядным (8 bit), если размер данных 2 байта, то ЦПУ шестнадцатиразрядный (16 bit), при размере 4 байта – процессор тридцатидвухразрядный (32 bit), в случае с 8-байтовым размером данных процессор считается шестидесяти четырёхразрядный (64 bit).

![[Pasted image 20231029211252.png]]

### Размерность технологического процесса

Определяет размеры транзистора (толщину и длину затвора). Частота работы кристалла определяется частотой переключений транзисторов (из закрытого состояния в открытое). С уменьшением размера уменьшается выделение тепла. Размерность технологического процесса измеряется в нанометрах.

![[Pasted image 20231029213521.png]]

### Сокет (разъем)

Гнездовой или щелевой разъем, предназначен для интеграции чипа в схему материнской платы. Каждый разъем допускает установку только определенного типа процессоров.

- LGA (Land Grid Array) – контактные площадки
- PGA (Pin Grid Array) – корпус квадратной или прямоугольной формы, штырьковые контакты
- BGA (Ball Grid Array) – шарики припоя

![[Pasted image 20231024205430.png]]

### Кэш-память процессора

Кэш-память процессора является одной из ключевых характеристик, на которую стоит обратить внимание при выборе. 

**Кэш-память** — массив сверхскоростной энергозависимой ОЗУ. Является буфером, в котором хранятся данные, с которыми процессор взаимодействует чаще или взаимодействовал в процессе последних операций. Благодаря этому уменьшается количество обращений процессора к основной памяти. Этот вид памяти делится на три уровня: L1, L2, L3. 

Каждый из уровней отличается по размеру памяти и скорости, и задачи ускорения у них отличаются. L1 — самый маленький и быстрый, L3 — самый большой и медленный. К каждому уровню процессор обращается поочередно (от меньшего к большему), пока не обнаружит в одном из них нужную информацию. Если ничего не найдено, обращается к оперативной памяти.

![[Pasted image 20231029213732.png]]

### Энергопотребление и тепловыделение

Чем выше энергопотребление процессора, тем выше его тепловыделение. 

**TDP** (**Thermal Design Power**) – параметр, указывающий на то количество тепла, которое способна отвести охлаждающая система от определенного процессора при наибольшей нагрузке. Значение представлено в ваттах при максимальной температуре корпуса процессора. 

**ACP** (**Average CPU Power**) – средняя мощность процессора, показывающая энергопотребление процессора при конкретных задачах.

### Рабочая температура процессора

Наивысший показатель температуры поверхности процессора, при котором возможна нормальная работа (54-100 °С). Этот показатель зависит от нагрузки на процессор и от качества отвода тепла. При превышении предела компьютер либо перезагрузится, либо просто отключится. Это очень важная характеристика процессора, которая напрямую влияет на выбор типа охлаждения.

### Множитель и системная шина

**Множитель процессора** — это значение, на которую умножается частота задающего генератора (основной системной шины).

**Системная шина процессора** – это канал связи между процессором, оперативной памятью и другими компонентами системы. Она определяет, насколько быстро данные могут передаваться между этими компонентами.

**Front Side Bus** – частота системной шины материнской платы. Тактовая частота процессора является произведением частоты FSB на множитель процессора. У большинства процессоров заблокирован разгон по множителю, поэтому приходится разгонять по шине.

![[Pasted image 20231029223618.png]]
### Встроенное графическое ядро

Процессор может быть оснащен графическим ядром, отвечающим за вывод изображения на монитор. В последние годы, встроенные видеокарты такого рода хорошо оптимизированы и без проблем тянут основной пакет программ и большинство игр на средних или минимальных настройках. Для работы в офисных приложениях и серфинга в интернете, просмотра Full HD видео и игры такой видеокарты вполне достаточно.

### Количество ядер (потоков)

Многоядерность одна из важнейших характеристик центрального процессора. Современные процессоры могут параллельно обрабатывать несколько команд. Пока одна инструкция находится в стадии декодирования, процессор может успеть получить другую инструкцию.

Однако такое решение подходит только для тех инструкций, которые не зависят друг от друга.

Если процессор многоядерный, это означает, что фактически в нём находятся несколько отдельных процессоров с некоторыми общими ресурсами, например кэшем.

Не так давно процессоры были одноядерными, их производительность на то время была достаточно хорошей, и не требовала увеличения мощности, когда процессоры уже уперлись в какой-то “потолок”. На замену одноядерным пришли процессоры с 2, 4 и 8 ядрами. Если 2 и 4-ядерные вошли в обиход очень быстро, процессоры с 8 ядрами пока не так востребованы. 

Для использования офисных приложений и серфинга в интернете достаточно 2 ядер, 4 ядра требуются для САПР и графических приложений, которым просто необходимо работать в несколько потоков. Что касается 8 ядер, очень мало программ поддерживают так много потоков, а значит, такой процессор для большинства приложений просто бесполезен. 

Обычно, чем меньше потоков, тем больше тактовая частота. Из этого следует, что если программа, адаптированная под 4 ядра, а не под 8, на 8-ядерном процессе она будет работать медленнее. Но этот процессор отличное решение для тех, кому необходимо работать сразу в большом количестве требовательных программ одновременно. 

Равномерно распределив нагрузку по ядрам процессора можно наслаждаться отличной производительностью во всех необходимых программ. В большинстве процессоров количество физических ядер соответствует количеству потоков: 8 ядер – 8 потоков. Но есть процессоры, где благодаря Hyper-Threading, к примеру, 4-ядерный процессор может обрабатывать 8 потоков одновременно.

![[Pasted image 20231029223341.png]]
### Число потоков

Показывает сколько потоков информации может обрабатывать одно ядро. Поток это технология, которая позволяет разделить производительность ядра, то есть физически ядро одно, а фактически оно может одновременно обрабатывать два процесса. На текущий момент не все процессоры обладают дополнительными потоками.

---
## Как работает процессор

Сам процессор представляет собой небольшую квадратную пластину (чип), внутри которой находятся миллионы транзисторов. 

Первый микропроцессор появился еще в далеком 1971 году. Он мог выполнять только простейшие операции сложения и вычитания с обработкой всего лишь 4 бит информации, т. е. имел 4-битную архитектуру. Современные процессоры, как и первый, основаны на транзисторах и обладают куда большим быстродействием. Изготавливаются они методом фотолитографии из определенного числа отдельных кремниевых пластинок, составляющих единый кристалл, в который как бы впечатаны транзисторы. Схема создается на специальном ускорителе разогнанными ионами бора. Во внутренней структуре процессоров основными компонентами являются ядра, шины и функциональные частицы, называемые ревизиями. 

Если посмотреть, как работает процессор, нужно четко представлять себе, что любая команда имеет две составляющие – операционную и операндную. Операционная часть указывает, что должна выполнить в данный момент компьютерная система, операнда определяет то, над чем должен работать именно процессор. Кроме того, ядро процессора может содержать два вычислительных центра, которые разделяют выполнение команды на несколько этапов:

- Выработка
- Дешифрование
- Выполнение команды
- Обращение к памяти самого процессора
- Сохранение результатов

Сегодня применяется раздельное кэширование в виде использования двух уровней кэш-памяти, что позволяет избежать перехвата двумя и более командами обращения к одному из блоков памяти. 

Процессоры по типу обработки команд разделяют на линейные (выполнение команд в порядке очереди их записи), циклические и разветвляющиеся (выполнение инструкций после обработки условий ветвления). 

Среди основных функций, возложенных на процессор, в смысле выполняемых команд или инструкций различают основные задачи: 

- математические действия на основе арифметико-логического устройства; 
- перемещение данных (информации) из одного типа памяти в другой; 
- принятие решения по исполнению команды, и на его основе – выбор переключения на выполнения других наборов команд. 

### Взаимодействие с памятью (ПЗУ и ОЗУ) 

ЦПУ обрабатывает команды на языке двоичного кода, говоря простым языком: 0 – это “нет”, 1 – это “да”. Каждый запрос, приходящий процессору состоит из комбинаций двух чисел 0 и 1.

Все операции внутри процессора это повторяющийся цикл, который не останавливается, пока работает компьютер или сервер: взять инструкцию из памяти, прочитать и расшифровать команду, осуществить действия.

В этом процессе следует отметить такие компоненты, как шина адреса, канал чтения и записи, которые соединены с запоминающими устройствами. 

ПЗУ содержит постоянный набор байт. Сначала адресная шина запрашивает у ПЗУ определенный байт, затем передает его на шину данных, после чего канал чтения меняет свое состояние и ПЗУ предоставляет запрошенный байт. Но процессоры могут не только считывать данные из оперативной памяти, но и записывать их. В этом случае используется канал записи. 

Рассмотрим как работает процессор компьютера более подробно:

- Блок управления процессора забирает из оперативной памяти, где находится программа, определенные данные и команды, которые требуется выполнить. Вся эта информация загружаются в кэш-память.
- Получив данные из кэша, процессор записывает их в регистры. При этом инструкции отправляются в регистры команд, а значения помещаются в регистры данных.
- После считывания инструкций и данных, арифметико-логическое устройство выполняет эти команды.
- Результаты выполнения команд записываются в регистры. Если вычисления завершены, то они записываются также в буферную память процессора. Так как число регистров небольшое, промежуточные результаты хранятся в кэш-памяти.
- Если цикл вычислений завершен, результат сохраняется в оперативной памяти компьютера, чтобы освободить место в буферной памяти ЦП для новых вычислений. Если кэш-память переполнена, то неиспользуемая информация отправляется в кэш нижнего уровня или в оперативную память.

Но, если разобраться, по большому счету современные компьютеры чисто теоретически могли бы и вовсе обойтись без ОЗУ, поскольку современные микроконтроллеры способны размещать нужные байты данных непосредственно в памяти самого процессорного чипа. Но вот без ПЗУ обойтись никак нельзя. Кроме всего прочего, старт системы запускается с режима тестирования оборудования (команды BIOS), а только потом управление передается загружаемой операционной системе. 

Нужно четко понимать, что, если бы процессор не работал, компьютер бы не смог начать загрузку вообще. Но на примере функционирования человеческого организма нужно понимать, что в случае остановки сердца умирает весь организм. Так и с компьютерами. Не работает процессор – «умирает» вся компьютерная система.

---
## Виды процессоров

Существуют процессоры для мелкой техники, такой как ноутбуки компьютеры, телефоны,их можно назвать настольные ЦП. Второй вид процессоров – серверные, предназначены для оборудования, работающего с огромными массивами данных.

Основные функции настольных процессоров – это выполнения функций домашних компьютеров: запуск нескольких программ, перемещение информации, работа с браузерами, запись данных на различные накопители, запуск игр, обработка фото- и видеоматериалов. Им не требуется большое число ядер, но необходима высокая тактовая частота.

Серверные процессоры могут работать с несколькими подключенными клиентами, поэтому им требуется большее число ядер, высокий объем кэш-памяти и поддержка больших объемов оперативной памяти.

Также различают типы процессоров по принципу выполнения команд:

- **CISC (Complete Instruction Set Computing)** – этот тип процессора с полным набором команд. 

Они характеризуется:

– большим количеством различных машинных команд, каждая команда выполняется за несколько тактов ЦП
– небольшим количеством регистров общего назначения
– различными форматами команд с разными длинами
– преобладанием множественной адресацией

- **RICS (Restricted Instruction Set Computer)** – процессор, повышение работоспособности которого происходит за счет упрощения инструкций. В ЦП с RISC-архитектурой применяется ограниченный набор быстрых команд.

Каждая команда выполняется за за один такт. В таких процессорах требуется меньшее число транзисторов, что снижает их энергопотребление и стоимость. Архитектура RISC использует наиболее простейшие команды, что упрощает процесс их выполнения. Более сложные команды обрабатываются как составные из “простых” команд.

- **VLIW (Very Long Instruction Word)** – процессоров, работающие через объединение простых команд в “связку”. Эти команды должны быть независимы друг от друга и осуществляться параллельно.

Архитектура VLIW известна с начала 80-х годов. Она основана на том, что задача эффективного параллельного выполнения команд возлагается на «разумный» компилятор (программу, переводящую команды в машинный код). Компилятор первоначально делает анализ всей инструкции, выбирает команды, которые могут быть выполнены одновременно. Затем объединяет такие команды в связки, которые рассматриваются как сверхдлинные команды. В результате получается несколько сверхдлинных команд, которые исполняются одновременно.

---
## История создания. Дальнейшее развитие процессоров

В настоящее время технология развивается стремительно, каждый год появляется несколько новых микропроцессоров. Однако факторы, влияющие на это развитие, известны. Зная эти факторы, довольно уверенно можно предсказывать и основные пути развития процессоров в ближайшем будущем. Нам необходимо, выявить основную цель развития процессоров, определить ограничения, которые накладываются на процессоры, оценить существующие современные подходы построения микропроцессоров.

Устремления и ограничения - общая цель, которую стремятся достичь все разработчики микропроцессоров – получить процессор максимальной производительности с наименьшими затратами как в разработке, так и в производстве. При этом процессор должен быть как можно более универсален. Лишь при достаточно большой массовости производства можно разделить все расходы по разработке модели на такое количество выпущенных экземпляров, что цена одного процессора будет иметь разумный размер. Если же процессор найдет весьма узкое применение, то львиную долю его стоимости будут составлять расходы по собственно разработке процессора, а не расходы по его производству. Именно поэтому так дороги уникальные серверные и процессорные платформы, применяемые для нужд обороны и прочих малораспространенных задач. В общем случае, расходы по разработке, скажем, новой модели Celeron и какой-либо сложной специализированной структуры весьма сопоставимы. Однако цена специализированной системы будет превышать цену обычной в десятки раз.

Проще всего создать процессор, оптимизированный под одну-единственную задачу. В рамках этой задачи можно достичь пика производительности для данной элементной базы. Но в связи с универсальностью происходят потери в производительности. Борьба противоположных требований, при всей своей простоте, является основным фактором влияния. Другим фактором, является удобство применения процессора для разработки приложений. При разработке любого сложного проекта на каком-то этапе сама технология производства оказывается делом первостепенной важности. Качественная реализация проекта оказывается невозможной без применения специальных средств для контроля за качеством производимых программных продуктов. Именно в этом заключаются корни популярности объектно-ориентированного подхода в языках высокого уровня. В той же мере и на уровне машинных кодов удобство системы команд может оказывать большое влияние на качество работы. Чем удобнее окажется процессор для разработчиков, тем больше будет выпущено программных продуктов именно для этой платформы, и тем привлекательней окажется эта платформа для конечных пользователей. Процессор должен обладать максимальной производительностью, при этом он должен сохранять свою относительную универсальность, обеспечивающую массовость производства. Также процессор должен быть достаточно удобен для разработки сложных приложений. С учетом всех этих требований можно рассматривать ныне существующие модели, оценивать их перспективность и, до некоторой степени, предсказывать их дальнейшее развитие.

Самым существенным фактором, влияющим на архитектурные решения современных процессоров, является постоянное совершенствование технологии производства. Как следствие,- рост уровня интеграции, уменьшение задержек в транзисторах и связях, снижение энергопотребления при переключении транзистора.С ростом уровня интеграции увеличиваются ресурсы на кристалле и повышается тактовая частота работы, что позволяет повышать производительность процессоров. Первое направление связано с увеличением объёма внутренней кэш-памяти. Второе направление связано с реализацией в процессорах принципов конвейеризации и параллельной обработки в нескольких конвейерах на разных стадиях выборки и выполнения команд.

Практически все накопленные в процессе конкуренции различных фирм архитектурные решения находят своё воплощение в новых архитектурах. В архитектуре современных процессоров различных производителей много общего, и ставится вопрос об унификации архитектур. Современный процессор – это 64-разрядный суперконвейерный, суперскалярный процессор с RISC-операционным ядром и большим числом дополнительных блоков, реализующий динамическое исполнение команд. Для эффективной обработки данных мультимедиа и графики система команд современных процессоров расширяется за счёт специализированных команд мультимедийной обработки.

Для унификации структур обработки данных в структуры некоторых современных процессоров включают специальные преобразователи исходных кодов команд во внутренние машинные команды «исполнительного процессора». Масштабные исследования ведутся по созданию процессорных элементов и компьютеров в целом с использованием принципиально иной элементной базы: биполярных молекул, молекул ДНК, квантовых кубитов и света.

---
## Ссылка

[Как работает процессор.](https://glkam1l.github.io/how.html)
[Что такое процессор?](https://www.nic.ru/help/chto-takoe-processor-cpu_11148.html)
[Как устроен процессор. Видео.](https://www.youtube.com/watch?v=qIhZrMg3_Tk)

<iframe width="560" height="315" src="https://www.youtube.com/embed/qIhZrMg3_Tk?si=ZuD6KHGRu4RJCh0J" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>

| [[_Компоненты компьютера\|Предыдущая лекция]] | [[Транзисторы в процессоре\|Следующая лекция]] |
| --------------------------------------------- | ---------------------------------------------- |
