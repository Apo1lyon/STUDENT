---
tags:
  - МоиЛекции
  - ЯзыкПрограммирования
  - Python
---
В этом уроке вы:

- познакомитесь с циклом while;
- узнаете его отличия от условной конструкции;
- познакомитесь с циклом for и типом данных range;
- узнаете, где и зачем используют циклы в Python.
### Цикл while

В Python есть два цикла `while` и `for`. На самом деле, можно было бы обойтись и циклом `while`. Но во многих случаях использовать удобней `for`.

Цикл `while` повторяет один и тот же блок кода до тех пор, пока условие не перестанет быть правдой (`True`). Одно полное выполнение цикла называется шагом, или итерацией.

```python
c = 0

while c < 5:

	c = c + 1
	
print(c)
```

> **Что выведется в терминале в результате выполнения кода из примера?**

- 4
- 5 %%X%%

---
## Отличие цикла от условной конструкции

Цикл `while` алгоритмически похож на условную конструкцию, только цикл "зациклен". Слева на картинке изображена схема работы цикла, справа — условной конструкции. Прямоугольник — это условие, овал — действие.

![[Pasted image 20240902161649.png]]

> **Прочитайте утверждения ниже. Выберите, верные они или нет**
- В цикле код будет выполняться до тех пор, пока условие правдиво. %%Верно%%

- В условной конструкции если условие правдиво, код выполнится. %%Верно%%

---
## Бесконечный цикл

Ниже представлен пример бесконечного цикла:

```python
while True:
	print("Бесконечный цикл")
```

Для досрочного завершения цикла используется оператор `break`.

> **Изучите пример ниже и ответьте на вопрос**

```python
while True:

	print("Это сработает")
	break
	print("Это не сработает")`
print("И это сработает")
```

> **Сколько раз программа выведет текст?**

- 0
- 1
- 2 %%X%%
- 3


Если оставить любую управляющую конструкцию пустой, то Python интерпретатор будет выдавать ошибку. Если вы делаете наброски в коде и пока не хотите реализовывать конструкцию, используйте оператор `pass`. **Не забудьте убрать его, когда будете дописывать конструкцию.** Например:

```PYTHON
while True:
	pass
```

---
## Примеры использования цикла while

Условие в цикле может быть любой сложности и зависеть от поставленной задачи.

Цикл ниже будет спрашивать ввод, пока пользователь не напишет `yes`.

```PYTHON
choice = input("Input yes/no: ")

while choice != "yes":

	choice = input("Input yes/no: ")

print("Well done!")
```

Цикл `while` можно использовать для работы с коллекциями, у которых ключ/индекс это число. Например, в программе, которая выводит содержимое списка.

Введите код ниже и проверьте работу цикла `while` с коллекциями

```python
random_names = ["Peter", "Ivan", "Mark", "Maksim", "Alex", "Jacob", "Abdula", "John", "Sinji"]

i = 0

length = len(random_names)

while i < length: # пока переменная i меньше длины списка

	print(random_names[i])
	i += 1 # тоже самое, что i=i+1
```

С этой же задачей мог справиться и цикл `for`. О нём поговорим далее.

![[Задание. Квадрат целых чисел]]

В этом примере переменная `i` внутри цикла изменяется от `1` до `10`. Такая переменная, значение которой меняется с каждым новым проходом цикла, называется счетчиком. После выполнения этого фрагмента кода значение переменной `i` будет равно `11`, поскольку именно при `i == 11` условие `i <= 10` впервые перестанет выполняться.

---
## Цикл for

Циклы повторяют действия, которые записаны в теле цикла некоторое количество раз. Цикл `for` работает с коллекциями и генераторами. Про генераторы поговорим в следующих уроках.

К примеру, так выглядит вывод всех элементов списка, что рассмотрели в прошлом уроке, но используя цикл `for`:

```python
random_names = ["Peter", "Ivan", "Mark", "Maksim", "Alex", "Jacob", "Abdula", "John", "Sinji"]

for name in random_names:

	print(name)
```

Этот цикл состоит из:

1. ключевого слова `for`;
2. придуманной нами переменной `name`, в которую будет помещен каждый элемент из коллекции;
3. ключевого слова `in`;
4. самой коллекции, из которой будем брать информацию — списка `random_names`;
5. тела цикла.

Схематично мы можем представить его так:

```
for название_переменной in коллекция:
	тело цикла
```

В переменной цикла хранится продублированное значение, а значит, если мы попробуем изменить содержимое, то элемент в коллекции не изменится.

> **Введите код ниже, чтобы проверить изменения**

```python
random_names = ["Peter", "Ivan", "Mark", "Maksim", "Alex", "Jacob", "Abdula", "John", "Sinji"]

for name in random_names:

	name = "Qwerty"
	print(name)
print(random_names)
```

![[Задание. Цикл for]]

---
## Как изменить исходную коллекцию?

Часто бывает, что нам нужно изменить исходную коллекцию. Для этого есть два способа.

Первый – создать пустой список и уже в него добавлять необходимые элементы. Например, хотим оставить только имена начинающиеся на `"M"`:

> **Изучите пример и ответьте на вопросы**

```python
random_names = ["Peter", "Ivan", "Mark", "Alex", "Maksim", "Jacob", "Abdula", "John", "Sinji"]

m_names = []

for name in random_names:

	if name[0] == "M":
		m_names.append(name)
print(m_names)
```

1. В примере `"name"` – это
- элемент списка
- переменная-счетчик %%X%%
- список

2. Метод `append`
- переименовывает элемент
- удаляет элемент из списка
- добавляет элемент в начало
- добавляет элемент в конец списка %%X%%

> **Используя код выше, выведите имена начинающиеся на "J"**

Второй вариант — это использовать `enumerate`.
Эта команда возвращает коллекцию, в которой каждый отдельный элемент имеет вид (`номер_элемента`, `элемент`). И чтобы получить номер и сам элемент используют распаковку. Сперва указываем номер `i` и через запятую имя переменной, в которую будут подставляться элементы коллекции:

```python
for i,name in enumerate(random_names):

	if name[0] != "M":
		random_names.pop(i)
print(random_names)
```

В этом примере `random_names[i]` и `name` это одинаковые значения, но в разных местах памяти. Поэтому, чтобы удалить из списка элемент, мы обращаемся к списку и удаляем элемент по его индексу (номеру) с помощью метода `.pop`.

> **Используя пример, выведите имена, не начинающиеся "М". Ответьте на вопрос**

Чтобы вывести все имена первая буква которых – не `"M"`, в примере выше нужно

- создать проверку каждой первой буквы имён списка
- заменить `"!="` на `"=="` %%X%%
- использовать вложенные условия

---
## Тип range

Очень распространено ошибочное заблуждение, что `range` является функцией. На самом деле `range` – это тип данных, который представляет собой неизменяемую последовательность чисел. Чтобы создать объект типа `range`, нужно указать точку старта, точку конца и шаг. Точка старта и шаг являются необязательными значениями `range(start, stop, step)`.

Так можно записать диапазон чисел от `0` до `10` (не включительно).

```python
range(10)

range(0, 10)

range(0, 10, 1)
```

> **Попробуйте вывести значения выше и ответьте на вопрос**

Функция `print(range(0,10,1))` выведет

- числа от 0 до 9
- числа от 0 до 10
- "range(0,10)" %%X%%
- "range(0,10,1)"

`Range` не хранит числа в памяти. Когда требуется получить доступ к какому-то элементу из последовательности, интерпретатор вычисляет его. Список, в котором записаны все числа от `0` до `100000`, занимает 800056 байт. Диапазон `range` занимает всего лишь 48 байт. Компьютеру, в данном случае, проще вычислить значения, чем их хранить.

Чтобы увидеть размер определенного элемента/коллекции, нужно импортировать модуль `getsizeof`:

```python
from sys import getsizeof

getsizeof(range(100000)) # узнаём размер range(100000)

getsizeof(list(range(100000))) # узнаём размер списка, состоящего из диапазона чисел
```

---
## Обращение к элементам из `range`

Обращаться к определенному элементу диапазона можно так же, как и к элементу списка – по индексу.

> **Введите код ниже и ответьте на вопрос**

```python
a = range(1000)

print(a[200])
```

Что вывелось на экран?
- 199
- 200 %%X%%
- 201

Если мы попробуем обратиться по индексу 1000 в данном примере, то будет выведена ошибка.

Диапазон чаще всего используют для работы с циклом `for`. Этот цикл автоматически итерирует значения. Очень удобно использовать такую запись, когда мы изначально знаем, сколько раз должен работать цикл:

```python
for i in range(10):

	print(i)
```

В этом примере у цикла 10 шагов (итераций), на каждом из них он выводит значение `i`.

Таким образом можно заменить аналогичную конструкцию цикла `while`:

```python
i = 0

while i < 10:

	print(i)
	i += 1
```

Например, код, который считает сумму всех чисел от `1` до `n`:

```python
n = int(input())

s = 0

for number in range(n):

	s += number
print(s)
```

![[Задание. Сумма квадратов чисел]]

---
## Ссылки



---

| [[Тип данных list, кортежи, множества и dict\|Предыдущая лекция]] | [[Функции и генераторы\|Следующая лекция]] |
| ----------------------------------------------------------------- | ------------------------------------------ |
