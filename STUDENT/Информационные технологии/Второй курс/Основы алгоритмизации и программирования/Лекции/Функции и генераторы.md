#МоиЛекции 

В этом уроке вы:

- научитесь писать свои функции;
- научитесь вызывать функции;
- сможете сравнить хорошую и плохую функцию;
- познакомитесь с обязательными и необязательными аргументами;
- познакомитесь с оператором return;
- познакомитесь с типом hinting;
- познакомитесь с генераторами и генераторами списков;

### Функции. Введение

Функции — это часть кода, у которой есть имя. Функцию можно вызывать многократно. Поэтому в функции заносят код, который может быть полезен много раз.

Как написать свою функцию

До этого урока вы использовали встроенные функции. Пришло время научиться их делать самим.

Вот код, который считает сумму элементов списка встроенной в Python функцией `sum`:

```python
numbers = [65, 23, 111, 1000, 7]

s = sum(numbers)

print(s)
```

Другой вариант решения с использованием обычного кода без функции:

```python
numbers = [65, 23, 111, 1000, 7]

s = 0

for n in numbers:
	s += n

print(s)
```

Давайте из этого кода сделаем свою функцию:

```python
def custom_sum():

	numbers = [65, 23, 111, 1000, 7]
	s = 0
	for n in numbers:
		s += n
		print(s)
custom_sum()
```

**Введите код, написанный выше, чтобы проверить работу функции**

---
## Как написать свою функцию

Рассмотрим данный вариант написания функции подробнее:

```python
def custom_sum():

	numbers = [65, 23, 111, 1000, 7]
	s = 0
	for n in numbers:
		s += n
		print(s)
	custom_sum()
```

Чтобы написать свою функцию:

1. Определите инструкцию def и назовите функцию;
2. Рядом с именем поставьте скобки — ( ), они могут быть пустыми или с какой-то переменной, как в примере ниже, а также поставьте двоеточие;
3. Как вы наверняка заметили, после двоеточия следующая строка в Python программируется с отступами (4 пробела от начала строки/Tab);
4. Далее задайте любые условия — цикл/условный оператор/арифметические действия с переменной;
5. Чтобы функция сработала, её нужно вызвать, это и делает последняя строчка.

> Сначала мы пишем функцию, потом ее вызываем. То есть строка вызова должна быть ниже.

Пример с функцией, в которую пользователь передает данные:

```python
def say_hello(person_name):

	print('Привет,', person_name, '!:)')
name = input('Как вас зовут? ')

say_hello(name)
```

**Выполните практическое задание ниже и ответьте на вопрос**

Напишите код, где функция будет запрашивать у пользователя электронную почту и информировать, что на эту(введенная пользователем информация) почту будет направлено письмо с приглашением.

---
## Улучшение функции

Пример на предыдущем слайде функции custom_sum, на самом деле, не самый удачный — эта функция хранит в себе значение списка, если мы захотим посчитать сумму другого, у нас не выйдет. Изменим код:

```python
def custom_sum(numbers):
	s = 0
	for n in numbers:
		s += n
	print(s)
custom_sum([65, 23, 111, 1000, 7])
```

Мы добавили аргумент `numbers` в скобки. Теперь при вызове функции нужно его "заполнить".

**Введите написанный выше код и проверьте результаты выполнения функции. Ответьте на вопрос ниже**

Что будет, если не передать список при вызове функции?
- Ошибка — TypeError %%X%%
- None
- 0

---
## Оператор return

Изменённый код с добавлением оператора return выглядит следующим образом:

```python
def custom_sum(nums):

	s = 0
	for n in nums:
		s += n
	return s
result = custom_sum([65, 23, 111, 1000, 7])

print(result)
```

1. Удалён вывод внутри функции;
2. Оператор return возвращает ответ;
3. Добавлена переменная result, в которой хранится результат работы функции;
4. Добавлен вывод этой переменной.

**Проверьте результат работы функции print() и ответьте на вопрос ниже**

```python
print(print())
```

Какое значение появилось на экране?
- None %%X%%
- Return
- 1000

Комментарий

На экране вы увидите None. Это специальное значение, которое обозначает пустоту. Значит функция print() возвращает None.

---
## Что возвращает оператор return

Оператор return возвращает значение из функции. Возвращаемое значение может быть только одним. Если вы хотите вернуть несколько значений, то вам нужно объединить их в коллекцию:

```python
def get_socks():

	left_sock = "Левый"
	right_sock = "Правый"
	return (left_sock, right_sock)
socks = get_socks()

left_sock = socks[0]

right_sock = socks[1]
```

Так мы достали несколько значений из функции. Скобки кортежа можно не писать и записать этот пример короче:

```python
def get_socks():

	left_sock = "Левый"
	right_sock = "Правый"
	return left_sock, right_sock
left_sock, right_sock = get_socks()
```

В последней строчке, мы использовали приём, который называется распаковка. Он помог нам сократить код. Его можно использовать со списками и некоторыми другими коллекциями, например:

```python
fruits = ["apple", "banana"]

apple, banana = fruits

print(apple)

print(banana)
```

Изучите код ниже и ответьте на вопрос

```python
def some_test(a, b, c):

	return a + b + c
res = some_test(12, 4, 2)

print(res)
```

Что будет результатом выполнения кода?
- 11
- 18 %%X%%
- 28
- None

---
## Аргументы функции

Все аргументы функции нужно указывать в скобках через запятую:

```python
def something(a, b, c, d, e):
	pass
```

Вы можете указывать стандартные значения для аргументов. Этот приём называется необязательный аргумент. Если при вызове функции не укажут параметр, то функция будет использовать стандартное значение.

**Введите код ниже, чтобы проверить использование необязательного аргумента**

```python
def something(a, b, c=10):

	print(c)
something(0, 0, 1)

something(0, 0)
```

Аргумент с — необязательный.

> Необязательные аргументы нужно указывать после обязательных.

Если вы хотите обрабатывать неопределенное количество аргументов используйте `*`:

```python
def something(*fruits):

	for fruit in fruits:
		print(fruit)
something("apple", "banana", "orange", "pear")

something("apple")
```

---
## Type hinting

Подсказки типа **type hinting** делают ваш код чище, красивее и понятнее. Они не влияют на работу программы, но помогают программисту. Используйте их во всех функциях:

**Выполните упражнения ниже и узнайте, как использовать подсказки в коде**

```python
def get_sum(a: int, b: int) -> int:
	return a + b
```

Подсказки указывают на тип передаваемого значения (а — переменная типа integer). Стрелка -> указывает на то, что возвращает функция.

**Ознакомьтесь с документацией и ответьте на вопросы**

Официальную документацию по подсказкам в Python вы найдёте на этой странице: https://docs.python.org/.

1. Какой тип вернёт функция суммы вещественного и целого числа?
- float %%X%%
- int
- str

2. Можно ли давать собственные обозначения типам данных?
- да %%X%%
- нет

---
## Функция Range

Как правило, циклы for используются либо для повторения какой-либо последовательности действий заданное число раз, либо для изменения значения переменной в цикле от некоторого начального значения до некоторого конечного.

Для повторения цикла некоторое заданное число раз n можно использовать цикл for вместе с range:

![](https://cdn-user36618.skyeng.ru/skyconvert/unsafe/fit-in/684x/https://cdn-user12724.skyeng.ru/image/c62d5c40f4bb0a6f5efdf0325731670c.png)

В качестве n может использоваться числовая константа, переменная или произвольное арифметическое выражение (например, 2 ** 10).

**Введите и протестируйте код выше в интерпретаторе. Ответьте на вопрос**

Что будет, если значение n равно нулю или отрицательное?
- Тело цикла выполнится указанное количество раз по модулю числа
- При отрицательном — тело цикла выполнится указанное количество раз по модулю числа, при 0 — не выполнится ни разу
- Тело цикла не выполнится ни разу %%X%%

> Подробнее о циклах for и range вы можете узнать на этой странице https://pythontutor.ru/.

---
## Генераторы списков

Если вам нужно создать список по определенному правилу — используйте генераторы списков.

Допустим, нам нужно вычесть 7 из всех элементов списка:

```python
nums = [1000, 237,146, 90, 6]

b = [num-7 for num in nums]

print(b)
```

Эта запись похожа на цикл for. Перед словом for нужно указать элемент, который будет подставляться в список, сейчас это num-7. Затем нужно указать, откуда будут браться значения — for num in nums. Мы берем из списка nums элементы и называем их num.

**Как можно записать цикл ниже в виде генератора списков?**

```python
numbers = [1, 2, 3, 4, 5]

numbers_sqrt = []

for i in numbers:

	numbers_sqrt.append(i**2)
```

Выберите верный вариант
- `numbers_sqrt = [for i in numbers i**2]`
- `numbers_sqrt = [i**2 for i in numbers]` %%X%%
- `numbers_sqrt = [i*2 for i in numbers]`

---
## Генераторы

Генераторы и генераторы списков — разные вещи. Их часто путают из-за схожей записи:

```python
nums = [1000, 237,146, 90, 6]

a = [num-7 for num in nums] # это генератор списка

b = (num-7 for num in nums) # а здесь просто генератор

print(a)

print(b)
```

Главное отличие генератора от генератора списка в том, что генератор не хранит данные в "готовом виде", он вычисляет их по необходимости. Генератор работает только в одном направлении — вперед. Чтобы узнать следующее значение нужно использовать функцию next().

```python
print(next(b))

print(next(b))
```

Генераторы работают с циклом for:

```python
for i in b:

	print(i)
```

**Введите код ниже и ответьте на вопрос**

```python
a = (i**2 for i in range(1,5))

for i in a:

	print(i)
```

Что будет, если вы попытаетесь проитерировать еще раз генератор после цикла for?
- Получу нужные значения
- Выйдет ошибка %%X%%

> На этой странице вы можете изучить дополнительную информацию про генераторы: https://pythoner.name/list-generator.

---
## Ссылки



---

| [[\|Предыдущая лекция]] | [[\|Следующая лекция]] |
| ----------------------- | ---------------------- |
