Одним из важных преимуществ языка Python является наличие большой библиотеки модулей и пакетов, входящих в стандартную поставку. Как говорят, к Python «приложены батарейки».

**Библиотека Python** — это коллекция модулей. Многие библиотеки состоят из десятков модулей. Некоторые библиотеки состоят из одного модуля. 

## Что такое модуль Python

Перед тем как приступить к изучению модулей стандартной библиотеки, необходимо определить, что в Python называется модулем.

В соответствии с модульным подходом к программированию большая задача разбивается на несколько более мелких, каждую из которых (в идеале) решает отдельный модуль.

В разных методологиях даются различные ограничения на размер модулей, однако при построении модульной структуры программы важнее составить такую композицию модулей, которая позволила бы свести к минимуму связи между ними. Набор классов и функций, имеющий множество связей между своими элементами, было бы логично расположить в одном модуле.

**Есть и еще одно полезное замечание:** модули должно быть легче использовать, чем написать заново. Это значит, что модуль должен иметь удобный интерфейс: набор функций, классов и констант, который он предлагает своим пользователям.

В языке Python набор модулей, посвященных одной проблеме, можно поместить в пакет. Хорошим примером такого пакета является пакет XML, в котором собраны модули для различных аспектов обработки XML.

Встречаются случаи, когда в базовом функционале Python отсутствуют каки-либо команды, типы, функции и классы. И можно воспользоваться дополнительным функционалом библиотек других разработчиков, которые уже приготовили для нас такие модули.

Например, нет отдельного типа данных, отвечающего за дату и время. Необходимо импортировать модуль, который называется datetime. Этот модуль позволяет управлять датами и временем, представляя их в таком виде, в котором пользователи смогут их понимать.

В программе на Python модуль представлен объектом-модулем, атрибутами которого являются имена, определенные в модуле:
```python
>>>import datetime

>>>d1 = datetime.date(2023, 02, 06)
```

В данном примере импортируется модуль **datetime**.

В результате работы оператора import в текущем пространстве имен появляется объект с именем datetime.

Модули для использования в программах на языке Python по своему происхождению делятся на обычные, написанные на Python, и модули расширения, написанные на другом языке программирования (как правило, на C). С точки зрения пользователя они могут отличаться разве что быстродействием. Бывает, что в стандартной библиотеке есть два варианта модуля: на Python и на C. Таковы, например, модули **pickle** и **cPickle**.

Обычно модули на Python в чем-то гибче, чем модули расширения. 

## Модули в Python

Модуль оформляется в виде отдельного файла с исходным кодом. Стандартные модули находятся в каталоге, где их может найти соответствующий интерпретатор языка. Пути к каталогам, в которых Python ищет модули, можно увидеть в значении переменной **sys.path**:
```python
>>> sys.path

['',

'/usr/local/lib/python23.zip',

'/usr/local/lib/python2.3',

'/usr/local/lib/python2.3/plat-linux2',

'/usr/local/lib/python2.3/lib-tk',

'/usr/local/lib/python2.3/lib-dynload',

'/usr/local/lib/python2.3/site-packages']
```

В последних версиях Python модули можно помещать и в zip-архивы для более компактного хранения (по аналогии с jar-архивами в Java).

При запуске программы поиск модулей также идет в текущем каталоге. При этом нужно внимательно называть собственные модули, чтобы не было конфликта имен со стандартными или дополнительно установленными модулями.

**Подключение модуля к программе** на Python осуществляется с помощью **оператора import**.

У него есть две формы: **import** и **from-import**:
```python
import os

import pre as re

from sys import argv, environ

from string import *
```

С помощью **первой формы** с текущей областью видимости связывается только имя, ссылающееся на объект модуля, а при использовании **второй** — указанные имена (или все имена, если применен символ * ) объектов модуля связываются с текущей областью видимости.

При импорте можно изменить имя, с которым объект будет связан, с помощью **as**.

**В первом случае** пространство имен модуля остается в отдельном имени, и для доступа к конкретному имени из модуля нужно применять точку.

**Во втором случае** имена используются так, как если бы они были определены в текущем модуле:
```python
os.system("dir")

digits = re.compile("\d+")

print argv[0], environ
```

Повторный импорт модуля происходит гораздо быстрее, так как модули кэшируются интерпретатором. Загруженный модуль можно загрузить еще раз (например, если модуль изменился на диске) с помощью функции **reload()**:
```python
import mymodule

. . .

reload(mymodule)
```

Однако в этом случае все объекты, являющиеся экземплярами классов из старого варианта модуля, не изменят своего поведения.

**При работе с модулями есть и другие тонкости.**

Например, сам процесс импорта модуля можно переопределить. Подробнее об этом можно узнать в документации по Python.

## Обзор стандартной библиотеки

Модули стандартной библиотеки можно условно разбить на группы по тематике.

1. **Сервисы периода выполнения.** Модули: sys, atexit, copy, traceback, math, cmath, random, time, calendar, datetime, sets, array, struct, itertools, locale, gettext.
    
2. **Поддержка цикла разработки.** Модули: pdb, hotshot, profile, unittest, pydoc. Пакеты docutils, distutils.
    
3. **Взаимодействие с ОС (файлы, процессы).** Модули: os, os.path, getopt, glob, popen2, shutil, select, signal, stat, tempfile.
    
4. **Обработка текстов.** Модули: string, re, StringIO, codecs, difflib, mmap, sgmllib, htmllib, htmlentitydefs. Пакет xml.
    
5. **Многопоточные вычисления.** Модули: threading, thread, Queue.
    
6. **Хранение данных. Архивация.** Модули: pickle, shelve, anydbm, gdbm, gzip, zlib, zipfile, bz2, csv, tarfile.
    
7. **Платформо-зависимые модули.** Для UNIX: commands, pwd, grp, fcntl, resource, termios, readline, rlcompleter. Для Windows: msvcrt, _winreg, winsound.
    
8. **Поддержка сети. Протоколы Интернет.** Модули: cgi, Cookie, urllib, urlparse, httplib, smtplib, poplib, telnetlib, socket, asyncore. Примеры серверов:SocketServer, BaseHTTPServer, xmlrpclib, asynchat.
    
9. **Поддержка Internet. Форматы данных.** Модули: quopri, uu, base64, binhex, binascii, rfc822, mimetools, MimeWriter, multifile, mailbox. Пакет email.
    
10. **Python о себе.** Модули: parser, symbol, token, keyword, inspect, tokenize, pyclbr, py_compile, compileall, dis, compiler.
    
11. **Графический интерфейс.** Модуль Tkinter.

## Примечание

Очень часто модули содержат один или несколько классов, с помощью которых создается объект нужного типа, а затем речь идет уже не об именах из модуля, а об атрибутах этого объекта. И наоборот, некоторые модули содержат лишь функции, достаточно общие для того, чтобы работать над произвольными объектами (либо достаточно большой категорией объектов).
