#МоиЛекции  #БД 

Все современные СУБД используют именно реляционную модель, хотя работа по её разработке начались ещё в 60—70-х годах прошлого века. В отличие от модели CODASYL, базирующийся чисто на программистских решениях, реляционная модель имеет строгую математическую основу — математическую логику и теорию множеств.

> **Реляционная база данных** - это множество взаимосвязанных именованных отношений

> **Отношение** — это информационная модель реального объекта ("сущности") предметной области, формально представленная множеством однотипных кортежей. Кортеж отношения представляет экземпляр моделируемого объекта, свойства которого определяются значениями соответствующих атрибутов ("полей") кортежа.

Связи между кортежами отношений (при их наличии) реализуются через простой механизм "внешних ключей", являющихся, по существу, ссылками на атрибуты связываемых кортежей нескольких отношений.

В реализации кортеж отношения является аналогом записи модели CODASYL, а атрибуты кортежа — аналогом поля записи с той лишь разницей, что реляционная модель не допускает никакой внутренней структуры атрибутов отношений — все они должны быть атомарными. Такое упрощение позволяет ассоциировать отношения реляционной БД с прямоугольными плоскими таблицами., а кортежи отношений — со строками таких таблиц, что упрощает представление о структуре базы данных и делает их доступными даже конечным пользователям, не являющихся специалистами в области IT.

Реляционная модель данных объективно проигрывает иерархической и сетевой моделям по информативности и скорости доступа к данным, однако, ее основное преимущество — в простоте представления структуры БД и, как следствие, в высокой технологичности разработки БД, а также в эффективности выполнения модифицирующих операций.

В конечном итоге реляционные БД постепенно вытеснили с рынка неудобные в разработке и негибкие при эксплуатации иерархические и сетевые CODASYL-системы, получившие общее название "дореляционные" СУБД.

---
## Компоненты реляционной модели данных

Логическая модель данных считается заданной, если определены три ее базовые состояния: *структурная*, *целостностная* и *манипуляционная*.

- **Структурная** составляющая модели определяет множество допустимых структур данных логического уровня, обеспечивающих представление сущностей и связей ER-модели. Структуры данных должны поддерживаться на языковом уровне, на них должны "работать" манипуляционной составляющей модели.

- **Целостностная** составляющая включает множество ограничений целостности данных, поддерживаемых серверами БД и обеспечивающих возможность автоматического контроля непротиворечивости и согласованности объектов БД при их модификации соответствующими запросами.

- **Манипуляционная** составляющая модели модели — это набор допустимых операций, выполняемых над допустимыми структурами данных и обеспечивающих реализацию пользовательских запросов к базе данных.

---
## Поддерживаемые структуры данных

Единственной структурой данных, допустимой в реляционной (R-) модели и используемой для представления сущностей, атрибутов и связей ER-модели, является *отношение* (*relationship*). По аналогии с языками программирования отношение можно рассматривать как структурированный тип данных, используемых для представления *неупорядоченного множества кортежей*, каждый из которых состоит из множества *атрибутов* соответствующих скалярных типов.

Используют также и альтернативные наименования реляционных структур: *отношения называют таблицами* или множествами записей, *кортежи — строками или записями*, а *атрибуты кортежей — столбцами таблиц или полями записей*.

*Описание переменной* типа отношение называется *схемой отношения* (соответственно — *заголовком таблицы* или *описание типа записи*).

Схема отношения описывает внутреннюю структуру всех входящих в него кортежей и включает список имен атрибутов этого отношения с указанием для каждого атрибута типа данных, домена допустимых значений и других ограничений целостности. 

Концепции типов данных и доменов допустимых значений атрибутов отношений будут рассмотрены ниже при обсуждении ограничений целостности реляционной модели данных. При обращении к атрибутам допускается использовать их двухуровневые имена (по аналогии с именами элементов структурированных типов данных в языках программирования), когда в качестве прификса имени атрибута используется имя его отношения, например атрибут *atr* кортежей отношений R1 и R2 может быть обозначен соответственно как R1.atr и R2.atr. По сути, сейчас речь идет о таблице R1 и R2 и о поле *atr*, которое есть в каждой таблице — такая терминология будет более понятна большинству пользователей. 

Язык SQL содержит операторы CREATE TABLE и ALTER TABLE, используемые для определения и модификации схем отношений. Для модификации тела отношения используется SQL-операторы INSERT, DELETE, и UPDATE, определяющие состав кортежей тела отношения и значения их атрибутов. В определенном смысле эти операторы можно считать операторами присваивания значений переменным типа отношение. 

Отношения характеризуются арностью и мощностью: *арность* — это количество атрибутов в каждом из кортежей (соответственно столбцов в таблице или полей в записи), а *мощность* — это количество кортежей в теле отношения (строк в таблице или записей во множестве).

---
## Целостность данных

Обеспечение целостности базы данных в процессе ее эксплуатации — одна их важнейших функций СУБД, при этом под целостностью понимается сохранение согласованного и непротиворечивого состояния информации, хранимой в базе данных. 

Реляционная модель данных накладывает ограничения целостности двух видов: ограничения структурной целостности отдельных отношений базы данных и ограничения ссылочной целостности, обеспечивающие согласованность связей между ними.

Структурная целостность отношений включает базовые ограничения целостности (атомарность атрибутов, уникальность кортежей отношения), ограничения типов данных атрибутов отношений, ограничения доменов допустимых значений атрибутов, проверяемые ограничения, накладываемые на значения атрибутов. 

Атомарность атрибутов означает, что ни один из атрибутов отношения не может иметь никакой внутренней структуры, видимой пользователям и поддерживаемой СУБД. В реализации требование атомарности атрибутов предписывает использовать для атрибутов отношений исключительно скалярные типы данных, что позволяет считать отношение плоской таблицей. 

Требование уникальности кортежей запрещает наличие в теле отношения кортежей-дубликатов. Такой "запрет" вытекает из определения отношения как множества кортежей — в классической теории множеств все элементы множества должны различными.

В реализации соблюдение этого ограничения требует наличие в схеме отношения *первичного ключа* — такого минимального подмножества атрибутов, составное значение которых не должно повторятся в разных кортежах и может использоваться в качестве уникального идентификатора кортежа. СУБД, получив информацию о статусе "первичного ключа" некоторого атрибута отношения, не допустит повторения его значений в различных кортежах, что, собственно, и будет гарантировать отсутствие кортежей-дубликатов в теле отношения. 

Если в схеме отношения объективно присутствует несколько таких уникальных идентификаторов (элементарных или составных), первичным ключом объявляется самый экономичный из них, а все остальные получают статус "возможного первичного ключа", сохраняя при этом свойство уникальности. 

---
## Ссылки

1. Макаренко И.В., Финкова М.А., База данных на примерах с. 28